generator client { provider = "prisma-client-js" }

datasource db { provider = "postgresql" url = env("DATABASE_URL") }

enum LeadType { quote booking }
enum LeadStatus { new contacted booked closed }

model Lead {
  id            String     @id @default(cuid())
  type          LeadType
  name          String
  email         String
  phoneRaw      String
  phoneE164     String?
  city          String
  serviceSlug   String?
  message       String
  preferredDate String?
  timeWindow    String?
  status        LeadStatus @default(new)
  notes         String?
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
}

model Service {
  id          String @id @default(cuid())
  slug        String @unique
  title       String
  description String
  body        String
}

model ServiceArea {
  id          String @id @default(cuid())
  city        String @unique
  slug        String @unique
  seoContent  String
}

model Review {
  id        String   @id @default(cuid())
  author    String
  rating    Int
  content   String
  isSample  Boolean  @default(true)
  createdAt DateTime @default(now())
}

model FAQ {
  id       String @id @default(cuid())
  question String
  answer   String
}

model BlogPost {
  id          String   @id @default(cuid())
  slug        String   @unique
  title       String
  excerpt     String
  content     String
  published   Boolean  @default(true)
  publishedAt DateTime @default(now())
}
